<!DOCTYPE html>
<html>

<head>
    <title>Replicant Friend Finder</title>
    <!-- Link to the jQuery Library -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <!-- Compiled and minified Materialize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">
    <!-- Compiled and minified Materialize JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
    <!-- Custom styles for this template -->
    <link rel="stylesheet" type="text/css" href="/ff.css" />
</head>

<body>
    <header>
        <nav>
            <div class="nav-wrapper pink accent-2">
                <i class="fa fa-address-book-o fa-5x" aria-hidden="true" id=logo-icon></i>
                <a href="/" class="brand-logo" id="logo">Replicant Friend Finder</a>
                <ul class="right hide-on-med-and-down" id="head-nav-links">
                    <li><a href="/survey">Survey</a></li>
                    <li><a href="/api/friends">API Friends List</a></li>
                    <li><a href="https://github.com/angrbrd/friend-finder">GitHub Repo</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <main>
        <div class="container">
            <div class="row">
                <div class="col s12 z-depth-5 mainpanel">
                    <div id="mainpanel-content">
                        <h1>Voight-Kampff Quiz<</h1>
                        <div class="divider"></div>
                        <h3>Capillary dilation of the so-called blush response...fluctuation of the pupil...involuntary dilation of the iris.</h3>
                        < <form role="form" action="" id="Voight-Kampff">
                            <div class="form-group">
                                <label for="">Name</label>
                                <input type="text" class="form-control" id="name">
                            </div>
                            <div class="form-group">
                                <label for="">Photo URL</label>
                                <input type="text" class="form-control" id="photo">
                            </div>
                            <label class="statement">Its your birthday. Someone gives you a calfskin wallet. How do you react?</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="calfskin" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="calfskin" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="calfskin" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="calfskin" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="calfskin" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">You’ve got a little boy. He shows you his butterfly collection plus the killing jar.</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="butterfly" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="butterfly" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="butterfly" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="butterfly" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="butterfly" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">You’re watching television. Suddenly you realize there’s a wasp crawling on your arm.</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="tv" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="tv" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="tv" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="tv" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="tv" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">You’re in a desert walking along in the sand when all of the sudden you look down, and you see a tortoise, it’s crawling toward you. You reach down, you flip the tortoise over on its back. The tortoise lays on its back, its belly baking in the hot sun, beating its legs trying to turn itself over, but it can’t, not without your help. But you’re not helping.</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="tortise" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="tortise" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="tortise" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="tortise" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="tortise" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">Describe in words, only the good things that come into your mind about your mother.</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="mother" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="mother" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="mother" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="mother" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="mother" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">You're reading a novel written in the old days before the war. The characters are visiting Fisherman's Wharf in San Francisco. They become hungry and enter a seafood restaurant. One of them orders lobster, and the chef drops the lobster into the tub of boiling water while the characters watch.</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="lobster" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="lobster" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="lobster" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="lobster" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="lobster" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">You're reading a magazine. You come across a full-page nude photo. You show it to your partner. They like it so much, they hang it on your bedroom wall.</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="nude" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="nude" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="nude" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="nude" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="nude" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">You're watching a stage play - a banquet is in progress. The guests are enjoying an appetizer of raw oysters. The entree consists of boiled dog.</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="dog" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="dog" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="dog" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="dog" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="dog" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">Do you like this owl?</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="owl" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="owl" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="owl" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="owl" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="owl" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <label class="statement">Assuming androids do dream of electric sheep, how do you feel about it?</label>
                            <ul class='likert'>
                                <li>
                                    <input type="radio" name="sheep" value="1">
                                    <label>Extreme Disgust</label>
                                </li>
                                <li>
                                    <input type="radio" name="sheep" value="2">
                                    <label>Mild Distress</label>
                                </li>
                                <li>
                                    <input type="radio" name="sheep" value="3">
                                    <label>Neutral Interest</label>
                                </li>
                                <li>
                                    <input type="radio" name="sheep" value="4">
                                    <label>Mild Happiness</label>
                                </li>
                                <li>
                                    <input type="radio" name="sheep" value="5">
                                    <label>Extreme Delight</label>
                                </li>
                            </ul>
                            <div class="buttons">
                                <!--       <button class="clear">Clear</button>
 -->
                                <button type="submit" class="btn btn-primary submit">Submit</button>
                            </div>
                            </form>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="page-footer pink accent-2">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">Friend Finder App</h5>
                    <p class="grey-text text-lighten-4">Thank you for taking the brief survey. Your responses will be used for training purposes only :-].</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Links</h5>
                    <ul>
                        <li><a class="grey-text text-lighten-3" href="/api/friends">API Friends List</a></li>
                        <li><a class="grey-text text-lighten-3" href="https://github.com/angrbrd/friend-finder">GitHub Repo</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                © 2017 angrbrd entertainment
                <a class="grey-text text-lighten-4 right" href="https://github.com/angrbrd">Reference Work</a>
            </div>
        </div>
    </footer>
    <!-- Modal Dialog Displaying Closest Friend Match -->
    <div id="modal1" class="modal">
        <div class="modal-content">
            <h4>Closest Friend Match</h4>
            <div class="divider"></div>
            <h5 id="userMatch"></h5>
            <img id="userMatchImage" class="materialboxed" width="650" src="">
        </div>
        <div class="modal-footer">
            <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function() {
        $('select').material_select();

        $('.modal').modal({
            dismissible: false, // Modal can be dismissed by clicking outside of the modal
            opacity: .5, // Opacity of modal background
            inDuration: 300, // Transition in duration
            outDuration: 200, // Transition out duration
            startingTop: '4%', // Starting top style attribute
            endingTop: '10%' // Ending top style attribute
        });
    });

    $(".submit").on("click", function(event) {
        event.preventDefault();

        // Here we grab the form elements
        var newFriend = {
            replicantName: $('#name').val().trim(),
            replicantPhoto: $('#photo').val().trim(),
            scores: [
                $('input:radio[name=calfskin]:checked').val(),
                $('input:radio[name=butterfly]:checked').val(),
                $('input:radio[name=tv]:checked').val(),
                $('input:radio[name=tortise]:checked').val(),
                $('input:radio[name=mother]:checked').val(),
                $('input:radio[name=lobster]:checked').val(),
                $('input:radio[name=nude]:checked').val(),
                $('input:radio[name=dog]:checked').val(),
                $('input:radio[name=owl]:checked').val(),
                $('input:radio[name=sheep]:checked').val()
            ]
        };

        console.log(newFriend);

        // This line is the magic. It's very similar to the standard ajax function we used.
        // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
        // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
        // depending on if a tables is available or not.

        // Here we get the location of the root page.
        // We use this instead of explicitly saying the URL is localhost:3001 because the url will change when we deploy.
        var currentURL = window.location.origin;

        $.post(currentURL + "/api/friends", newFriend,
            function(data) {

                // Clear the form when submitting
                $('#name').val("");
                $('#photo').val("");
                $('input:radio[name=calfskin]').val("");
                $('#butterfly').val("");
                $('#tv').val("");
                $('#tortise').val("");
                $('#mother').val("");
                $('#lobster').val("");
                $('#nude').val("");
                $('#dog').val("");
                $('#owl').val("");
                $('#sheep').val("");

                // Set the name and image values of friend match
                $('#userMatch').html(data.matchName);
                $("#userMatchImage").attr("src", data.matchImage);

                // Pop open the modal dialog
                $('#modal1').modal('open');


            });



    });

    </script>
</body>

</html>
